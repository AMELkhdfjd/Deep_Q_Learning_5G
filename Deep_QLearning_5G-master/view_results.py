import matplotlib
matplotlib.use("agg")
import matplotlib.pyplot as plt
import csv
import math
import numpy as np


def average(lista): # function to return the average of a list of data


    sum=0.0
    for l in range(0,len(lista)):
        sum=sum+lista[l] 
    return sum/len(lista)

def standardDev(lista): # function to calculate standard deviation
    sum = 0.0
    size = len(lista)
    avrg = average(lista)
    #print "average: ",avrg
    for l in range(0,len(lista)):
        sum = sum + math.pow((lista[l] - avrg), 2.0)    
    return math.sqrt(sum/(size));


x = []
y = []
topologies = ["16BA","abilene"]

########### arrivalRate20 ############
arrival_rate = "20"



lost_r=  [0.9701396359058383, 0.9629362281236221, 0.9655943836277253, 0.9666544973114229, 0.9703921943587268, 0.9642934282239803, 0.9685162620037374, 0.9627055623895852, 0.9633039782744721, 0.9654865508208826, 0.9668288273664096, 0.9670211190800857, 0.969825791502182, 0.9688750164564651, 0.9567643184651917, 0.9671336696466245, 0.9661051975330999, 0.9706155994440443, 0.9650452428044264, 0.9703656244973461, 0.9668668804267732, 0.9706970424213615, 0.9693251645791657, 0.970895955308954, 0.9686324513970874, 0.969985272617346, 0.9663150790027263, 0.9687433960039041, 0.9602090657476248, 0.9661502462321152, 0.9655685323072327, 0.970337186086571, 0.9668994982050197, 0.968911848294469, 0.9648135784517838, 0.9645292687243642, 0.9640693805129729, 0.9679610174670994, 0.9700190964620985, 0.9665819118255049, 0.9651139663565748, 0.9679128730856552, 0.9661380650711264, 0.9659209262856717, 0.9716443343896303, 0.9664834930761593, 0.969926765188156, 0.9614114023714636, 0.9642823096272571, 0.9693408506485565, 0.9721399688439296, 0.9621499862131245, 0.969123474082682, 0.971552005099955, 0.963916135410206, 0.9673064003486872, 0.9652398486693305, 0.9681366689636265, 0.97303315282847, 0.9688961772176142, 0.9724368883518546, 0.9689528604048667, 0.9695981148678365, 0.9680371343972999, 0.9669326439938816, 0.9656352616588794, 0.9667665142489019, 0.9612471236375059, 0.9646583981420681, 0.9678035863920419, 0.96675357816787, 0.9673058629917027, 0.968218771049402, 0.9641821423026298, 0.9641375083684496, 0.9677048797894676, 0.9675037522657571, 0.9666345931994974, 0.9642731063567294, 0.9695277939940002, 0.966091847417838, 0.9622481512599272, 0.9643537046291177, 0.9635066181974197, 0.9660593389730826, 0.9667006030224303, 0.9649265678829962, 0.9676818084885285, 0.9645912469471837, 0.9678725559317877, 0.9599924020127705, 0.9632598192615551, 0.9647127913532635, 0.9655737618399963, 0.9645067643413857, 0.9696731710127634, 0.973122837080376, 0.9670310578939402, 0.9703083634155013, 0.9644925331591451, 0.9626610984895596, 0.9706277756697282, 0.9694545832285825, 0.9699080753861689, 0.9692624866410349, 0.9713180381568377, 0.9662367603860187, 0.9662091774015489, 0.9688535003130165, 0.9653256487149544, 0.9713336535568533, 0.9676088316734435, 0.9665877396167294, 0.9666261368225718, 0.9705825715445788, 0.9668466010053005, 0.9682448160960145, 0.9732994577202349, 0.9679845658962379, 0.9674643439986602, 0.9636190543318396, 0.964895368396251, 0.9701077741643062, 0.966776220789976, 0.9670690745562041, 0.9687758798460483, 0.9718528081544133, 0.9653325422295582, 0.969383688013237, 0.9629367982810825, 0.964402294713798, 0.9680473604467766, 0.9696724270176601, 0.9680234853031839, 0.9692575596946242, 0.9681312372080197, 0.969449615158351, 0.9722857682002564, 0.9670099497988509, 0.9688902054248579, 0.9662978048644254, 0.9651631067749223, 0.9681734904147232, 0.9682013753684298, 0.9721413029515986, 0.9640257947904279, 0.9649016319415048, 0.9667419051784987, 0.9665905839173214, 0.9616396679677108, 0.9714196561169123, 0.965605352697543, 0.9692397905215073, 0.975427218198838, 0.968427212582867, 0.9671625000761848, 0.9683402507070642, 0.9719505926427683, 0.9718105875975903, 0.9657653331421245, 0.9686099398488672, 0.9677924329502166, 0.969833584167668, 0.9685880608931239, 0.967445182259813, 0.9653637642239464, 0.9700985640466668, 0.9702960125828793, 0.971623457313755, 0.967795985543386, 0.9740031477920031, 0.9688554244913715, 0.9655302903395214, 0.9675266221619029, 0.9636929621606739, 0.963128641421838, 0.9682640004164299, 0.9680003810954475, 0.9717862298375001, 0.9680652671682982, 0.9629200356396546, 0.9702682502899861, 0.963319627569348, 0.9656951127799773, 0.9735209501241441, 0.9681671674556441, 0.9702895936516485, 0.9664492010416578, 0.9775898686367406, 0.971785537623455, 0.9698555239518055, 0.970926535036688, 0.9646073677564047, 0.959451830228929, 0.9736889285167453, 0.9739950455934142, 0.9709710076511965, 0.9655746406001923, 0.968682879006255, 0.9675450521206918, 0.970142656963752, 0.9687905464178087, 0.9702547215195269, 0.9767409664894584, 0.968213235339969, 0.9728120447451651, 0.9762665993034595, 0.9700733726716652, 0.9676799595507665, 0.9739367545269852, 0.9782888393387574, 0.9772093914721137, 0.9642602159537057, 0.9673032631580449, 0.9720464380578662, 0.9701867062102806, 0.966528410554168, 0.9709571945422864, 0.9736253271043794, 0.9723636811849959, 0.9765145570082155, 0.9737524817900668, 0.9619955475182081, 0.9728227336766241, 0.9723160230682809, 0.975213597866897, 0.9772067132555788, 0.9723917245089795, 0.9740245608148846, 0.9688608318255033, 0.9737573765712771, 0.9761820344607199, 0.9699067684030329, 0.9821566400210913, 0.9716693220695296, 0.9632548793037112, 0.9808659634748348, 0.9708424028705498, 0.9696727848411992, 0.9716658129472302, 0.9666868565544412, 0.9734658961081295, 0.9696184725695431, 0.9779161340357787, 0.9684918738321734, 0.9709024297937668, 0.9755681311675164, 0.9726308329608898, 0.9724697097198897, 0.9713281268527254, 0.9794802451382717, 0.9757283167070329, 0.975442477208519, 0.976653544299364, 0.9680460739463905, 0.9814466561582944, 0.967685144431575, 0.9680645868192445, 0.9727081744342811, 0.9684424438058188, 0.9671477456651922, 0.9734284728777175, 0.9708933055936514, 0.971324225333131, 0.9721406090832376, 0.9716002061809837, 0.9774286708408184, 0.9707151315727843, 0.9682587408793204, 0.9774719395604284, 0.9739600818069174, 0.971408240226807, 0.9736110490684398, 0.976298523696898, 0.9769765666741472, 0.9701214616649599, 0.9709318529262557, 0.9787783106798671, 0.9806589403981447, 0.97974235246557, 0.9715138279090434, 0.9675695824765481, 0.9672446326995494, 0.9791998218972843, 0.9707298287012406, 0.9734622652496259, 0.9757947920815057, 0.9807321422143397, 0.9778209310264113, 0.9745977942244304, 0.9776069980654308, 0.9751980805476724, 0.9823734169095225, 0.9744841154652012, 0.9689029142262094, 0.9687151503866526, 0.9757856079064959, 0.9818238691535714, 0.976210489536866, 0.9733212276822394, 0.9723588893120478, 0.9759283366204211, 0.9769822245146969, 0.9741926312927607, 0.9810947269501664, 0.9746974396397634, 0.9747932991074646, 0.9782294629511337, 0.968720805776414, 0.9735584996288621, 0.9780397213238005, 0.9764024368968001, 0.9759492834265747, 0.9685934704333969, 0.9662066395018329, 0.9751705477550203, 0.9745829489921136, 0.9716416665355749, 0.9699666886455119, 0.9675037518754219, 0.9782113407830939, 0.9759247106244316, 0.9679926196115735, 0.9806263869917463, 0.9885893774752829, 0.9806959687369199, 0.9756496805070862, 0.976672521313623, 0.9708413855251496, 0.9768293379413789, 0.9838639949736754, 0.974431720882483, 0.9760362206520521, 0.9778482489830184, 0.9691205517956706, 0.9714921604802581, 0.9737177328994387, 0.9699798752658431, 0.9764047905201094, 0.9758373936062688, 0.9723347118961565, 0.9786033661757834, 0.9757591726758189, 0.9762367621505491, 0.9740764079356448, 0.9821363766381097, 0.9795025301406549, 0.9785950396886927, 0.979863107290622, 0.9740904049296919, 0.9867908220066056, 0.979153246216852, 0.9802298959531812, 0.9831005130736978, 0.9837442978148433, 0.9854040303516816, 0.9765970511796125, 0.9717599904808841, 0.9844266047206611, 0.9731181154894183, 0.9766794829603118, 0.9830567288977687, 0.9818745955196752, 0.9773504487082304, 0.9753639854235628, 0.9800403503690618, 0.985543113105283, 0.984383992629485, 0.9799063041724885, 0.9832436514043231, 0.9804178099593642, 0.9838445108080622, 0.9699166550958556, 0.9749629790959546, 0.9702944851217031, 0.96959913988012, 0.9711117500356887, 0.9687504527028399, 0.9865560088750424, 0.9809335919654294, 0.9635690621755564, 0.9718471328080324, 0.9846875642634046, 0.9835632704273254, 0.9806293525193892, 0.9750788355855907, 0.9733835558975986, 0.9742491641319433, 0.9762693343184735, 0.9857916184489713, 0.9723906540844912, 0.9697558864790906, 0.9887961595051455, 0.9788529433076907, 0.9767398203028624, 0.9812339505943872, 0.9766984209397286, 0.9722878334535405, 0.9775808052204593, 0.978950348410964]



lost_r_old = [0.9615563253231892, 0.979038181940265, 0.9734032860244857, 0.9709927426758811, 0.9668530698086321, 0.9570539936654261, 0.9581190373375749, 0.96819058694494, 0.963700606716753, 0.9816390046257981, 0.9731274436233371, 0.9620738428914061, 0.9685019876621184, 0.9750483211957315, 0.9653503602532993, 0.9671534945644601, 0.9632745983144353, 0.9740162460190842, 0.9549676016189146, 0.9638285631106639, 0.9662666756285521, 0.9647788139431905, 0.9737904204570681, 0.9632356944052544, 0.9780612792296346, 0.9621670456333142, 0.9689928604467462, 0.9745857338240818, 0.9776484085912468, 0.9555847164478118, 0.9657514299021707, 0.966279687990414, 0.968147709138395, 0.9754573854305982, 0.9622935448264116, 0.9707078211015802, 0.9656127180617288, 0.9727144671450916, 0.968937804692627, 0.9653602606921365, 0.9691041595911634, 0.9745618128938401, 0.969634075769091, 0.9675897200738611, 0.9810221179638342, 0.9665260692928814, 0.9730040584801095, 0.9701821430982781, 0.963770709496643, 0.9576495230013748, 0.9720474565780525, 0.9711929862927464, 0.969509262933937, 0.9643399690888945, 0.9710322597385812, 0.9595594985085854, 0.9676097407732426, 0.9629788945129472, 0.9632755977270506, 0.9542370533450445, 0.9636249791228513, 0.9664783284335801, 0.9620806397989118, 0.9700798533041982, 0.9750247416867153, 0.9574731657142864, 0.9671718807562117, 0.9644044305608269, 0.948712939551007, 0.9614731609283705, 0.9649438418670739, 0.9554533809140939, 0.982995570495815, 0.9758997954519985, 0.9502768089731859, 0.9733744811543921, 0.9659490586995199, 0.9761723452371902, 0.9585950516679375, 0.9737094311048402, 0.9666128162267299, 0.9684999731354442, 0.968975867132441, 0.9688342347689136, 0.9614550067743676, 0.9615568892706394, 0.9735280259767148, 0.9802717184270977, 0.9725496800213785, 0.9634077365563088, 0.9688984891756239, 0.9610957789165397, 0.9715249400798345, 0.9673296931039285, 0.9707169047159652, 0.9580297296877122, 0.9712594769492896, 0.9603732785591558, 0.9608809121350863, 0.9642402328389519, 0.9687767770412216, 0.972022440556118, 0.9641565301243907, 0.968165335839416, 0.9642410359687058, 0.9673374608484957, 0.980610884837527, 0.9547923090020686, 0.9618363651455842, 0.9723011404890217, 0.966586100636627, 0.9692301097379873, 0.9627429007785742, 0.9614972859113352, 0.9702781207474378, 0.9680643319052507, 0.9647980923309226, 0.9630494909616761, 0.9770832912659398, 0.9691950851639359, 0.9707985371615189, 0.97200883320375, 0.9658026340584274, 0.9751541038054884, 0.9586200916139894, 0.969008178462842, 0.959879200364175, 0.9602827041922578, 0.9680880158306029, 0.9608793901400954, 0.9712904807759002, 0.967307796600265, 0.9719362217207715, 0.9532692622352174, 0.9798856749918847, 0.9698109382882787, 0.9685234398697814, 0.9685766780495182, 0.9695631327215976, 0.9738573413567624, 0.9727232476758223, 0.960890736291731, 0.9522580616855555, 0.9717580754337907, 0.9795491145173665, 0.9690711824885274, 0.9673064115018852, 0.9695450410633467, 0.9551721453621923, 0.9709472572266998, 0.9566155960433941, 0.9737984744651378, 0.9631661296472588, 0.9622883629592078, 0.9680017570099011, 0.9775246914258098, 0.9733862302383577, 0.971941224716454, 0.9641461151891388, 0.9748171165940421, 0.9662617318951576, 0.9592136347990023, 0.9602373755130792, 0.9674643718726974, 0.9611852985816697, 0.9759486546249443, 0.9723208395139593, 0.9680042014579301, 0.9558042640684266, 0.9715390967112496, 0.9649136545141673, 0.9707930653960579, 0.9648431331027121, 0.957642755087409, 0.9664291671200579, 0.9629590487330952, 0.9658354865456458, 0.9761957267141426, 0.9723512170262941, 0.9575220204895398, 0.968529705671839, 0.978448793245363, 0.9668879019895251, 0.9745713502630378, 0.9690552099212022, 0.9548631179558902, 0.9669924835499311, 0.9611972446951206, 0.9701927007721882, 0.9725544178364574, 0.9743192609202341, 0.9709571714684849, 0.9683451408030596, 0.9723986082101279, 0.9755823717704357, 0.9637745478741662, 0.957820685447809, 0.9503573315631699, 0.967432791482299, 0.9632168530453793, 0.9682082969828295, 0.9586877406656678, 0.9645727704308065, 0.9697590068983833, 0.9628864341083738, 0.969934976579847, 0.9652275884548537, 0.9657913379500346, 0.9782634080617432, 0.9765926525090581, 0.9599876553509955, 0.9648887392584812, 0.9652409195213772, 0.9734557572546654, 0.9700581017100229, 0.9572280526207829, 0.9775516382909509, 0.9569637070963795, 0.9613095532295963, 0.9643752752176364, 0.9685212077794655, 0.954801152864681, 0.9690381928714141, 0.9651395396724461, 0.9677341747321908, 0.9706247656761624, 0.974841196479754, 0.9526134438318768, 0.9588219898360343, 0.9750163358105496, 0.9677080933702257, 0.9703519591054367, 0.9711447694016189, 0.971733098416624, 0.9729206827251701, 0.9653483861978468, 0.9613561043013327, 0.9681024720357947, 0.967574666026122, 0.9777073792458212, 0.9608191214143134, 0.9575593524954519, 0.9691809542948335, 0.9650433856804524, 0.9632525868708263, 0.968033052638382, 0.9526675851294667, 0.9665524238300853, 0.9696719760470283, 0.9573403470179331, 0.9582597162682556, 0.9635079888240118, 0.9647416249492097, 0.9714546493095368, 0.9638921906804788, 0.9627101390248333, 0.9617136193161286, 0.9667042917650942, 0.9761969462291852, 0.9723193628675244, 0.9654814038051577, 0.9600103042000494, 0.9612489220671402, 0.9771965284233182, 0.9634083557302321, 0.9656490189600195, 0.9720023518480543, 0.9651228001848944, 0.9609074823482615, 0.9759077967642377, 0.9719576802856027, 0.9763125726944815, 0.9603582401979109, 0.9519190420043179, 0.9735293250660693, 0.9708087214887189, 0.9567794327037992, 0.9665723427198042, 0.9751513000273517, 0.967963529241714, 0.9606614708318091, 0.9710791976330672, 0.9639857821638276, 0.9688557070007181, 0.9688976283882244, 0.9619211401411927, 0.9703113737817459, 0.9631056999718179, 0.9631962133502763, 0.9695375172197901, 0.9593327254654175, 0.9660182988378349, 0.9744280954512626, 0.9691533813489225, 0.9592992382662637, 0.9700866060034253, 0.9545647237644467, 0.9717407106512729, 0.9668147880042238, 0.967817596259744, 0.9671850087635467, 0.966995969183283, 0.9589894616130722, 0.9725938101163688, 0.9751627686104167, 0.9662905336021147, 0.9621713033713691, 0.966476773455826, 0.9764301300892931, 0.9654458701002689, 0.9731903369148248, 0.9666994317429706, 0.9563040757433883, 0.9645453246881807, 0.9635717768089531, 0.9729049677998264, 0.9712257108014086, 0.964596523787173, 0.976953889591193, 0.9711733515767299, 0.9718314865545208, 0.9675544915734675, 0.9775890212271039, 0.9606686981458017, 0.9786692191547274, 0.9695921696427074, 0.9731264667270784, 0.98005285001534, 0.9685422224811354, 0.9560289395703538, 0.9633830253716766, 0.9719093586021761, 0.9625935735136124, 0.9695439144820998, 0.9674266428223574, 0.9712143851675704, 0.9708445065468622, 0.9738876660257257, 0.9622295227644727, 0.9693284847989025, 0.9754858709218397, 0.9582076492011501, 0.9634539351240562, 0.9705237590004814, 0.957628770473291, 0.9669125599014248, 0.962607408968319, 0.961286433547768, 0.9678783613776076, 0.9602562609721149, 0.9712289735833002, 0.9588146962024439, 0.9601850627206808, 0.9623121146325087, 0.9704497058318454]





font = {'family' : 'sans-serif',
        'size'   : 16}
matplotlib.rc('font', **font)



for i in range(355):
   x.append(i+1)


for i in range(400):
    y.append(i+1)
# Profit

## Old_code
margin_error1 =[]
lost_r_old_2 =[]




plt.errorbar(x,lost_r_old,fmt="-", color="red",ecolor="lightgray",capsize=2, label= "Old")
plt.errorbar(y,lost_r,fmt="-", color="blue",ecolor="lightgray",capsize=2,label= "New")



#plt.axvline(x=12, color = "silver", linestyle='--')
#plt.errorbar(x,acceptance_ratio, fmt="-",label="SARA",ecolor="lightgray",capsize=2)
#plt.errorbar(x,profit_reability,fmt="-",label="NR", color="red", ecolor="lightgray",capsize=2)
#plt.errorbar(x,lost_r,fmt="-",label="AAR", color="gray",ecolor="lightgray",capsize=2)

#plt.errorbar(x,profit_r2c,fmt="-",label="AAR", color="blue",ecolor="lightgray",capsize=2)
plt.xlabel('Episodes')
plt.ylabel('Reward')
plt.title(' Reward vs Episodes')
#plt.legend()
plt.legend(fontsize = 14,loc='lower right', fancybox=True, shadow=True)
# plt.legend(loc='upper center', bbox_to_anchor=(0.5, 0.1), fancybox=True, shadow=True, ncol=3)
#plt.show() 
plt.savefig("Big_profit_r2C.png",bbox_inches = 'tight') 
plt.close()




