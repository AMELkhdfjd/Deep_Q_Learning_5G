import matplotlib
matplotlib.use("agg")
import matplotlib.pyplot as plt
import csv
import math
import numpy as np


def average(lista): # function to return the average of a list of data


    sum=0.0
    for l in range(0,len(lista)):
        sum=sum+lista[l] 
    return sum/len(lista)

def standardDev(lista): # function to calculate standard deviation
    sum = 0.0
    size = len(lista)
    avrg = average(lista)
    #print "average: ",avrg
    for l in range(0,len(lista)):
        sum = sum + math.pow((lista[l] - avrg), 2.0)    
    return math.sqrt(sum/(size));


x = []
y = []
topologies = ["16BA","abilene"]

########### arrivalRate20 ############
arrival_rate = "20"



lost_r=  [0.9304973379714798, 0.9326615169636817, 0.9344458902331596, 0.9365302749196225, 0.9360860893850542, 0.9359304979721189, 0.9354802647121231, 0.9342716121145745, 0.935736684796646, 0.9350850908356689, 0.9360732531260731, 0.935337101127706, 0.9355543835599912, 0.9375861552496878, 0.9368143536789817, 0.9348028869064827, 0.9358925618033783, 0.934511052715135, 0.9360970617161212, 0.9356405831651334, 0.9357434464604539, 0.937425153221252, 0.9365676873381733, 0.9354937085789378, 0.9387983589583488, 0.9392207950102066, 0.9353505429554397, 0.9364568902152253, 0.9354250417131783, 0.9380682895213799, 0.9355494635892955, 0.9379417948729036, 0.9366044066501401, 0.9383840727600016, 0.9361787398235749, 0.934455151538237, 0.9349574692556127, 0.9387408621960611, 0.9404572650373304, 0.9396832058264784, 0.9371878353073677, 0.9401312794089912, 0.9388228454918168, 0.9364194883234377, 0.9370624302821932, 0.9361890035592705, 0.9375941316530446, 0.939252706487186, 0.9406133134855739, 0.9375001557293837, 0.9377936981405426, 0.9367562249913168, 0.9376305522113244, 0.9377107165156934, 0.9375164702836808, 0.9373277897682222, 0.9391671856796396, 0.9388707461055819, 0.9345719846860632, 0.9379603119475949, 0.9366466497509879, 0.9358406213351275, 0.9380137136195017, 0.9361525858697826, 0.9370945400346494, 0.9362909832706513, 0.9379834462854238, 0.9358715907328521, 0.9351662814334329, 0.935604287813624, 0.9358981595117418, 0.935865952986995, 0.9376175962836509, 0.9362991301966758, 0.9351317148055324, 0.9354467916167342, 0.9383438535970656, 0.9380411256735137, 0.9359334903731336, 0.9398309201324443, 0.9380480934849913, 0.9391616215297092, 0.9350494707944798, 0.9362485512485081, 0.9389309629512498, 0.9364941652132377, 0.9374288087032322, 0.940061865304008, 0.9361158905218238, 0.9385869525565724, 0.9384809322475903, 0.9360564402561464, 0.9397863386846287, 0.9372521461519908, 0.9394668674742743, 0.9377095759830416, 0.9382774277447475, 0.9371353539089771, 0.9371572761609374, 0.9383002277731738, 0.9375912180130935, 0.9394173188091215, 0.9369215091217493, 0.9367824362753193, 0.9356205337608535, 0.9384334284592428, 0.9400422007201176, 0.9365861072073419, 0.937672629996776, 0.9372814992584073, 0.9362813050581212, 0.9404072432933809, 0.936865677662892, 0.9376365674214058, 0.9384411404544797, 0.9375849086710679, 0.9386163525025749, 0.9371779925039695, 0.9372881585423475, 0.9383597184552199, 0.9372249573285344, 0.9367632739050418, 0.9379839024483299, 0.9369552078882013, 0.9376109022847875, 0.93427989048321, 0.934828301583236, 0.936593159721093, 0.939084571134525, 0.9396532201406407, 0.9369488494904762, 0.933374516617679, 0.9356470490393841, 0.9385421985445637, 0.9390418430734189, 0.9402475873896714, 0.9363467315204925, 0.9336196205161996, 0.9366091466350411, 0.9399300234024217, 0.938793277291905, 0.9378918278199359, 0.9382678141174041, 0.9355580576971606, 0.9376605818010629, 0.9390595788273917, 0.9386024234973254, 0.9379833563125216, 0.9402617334903087, 0.939384227778481, 0.9369587834207052, 0.9341999610289344, 0.9356113076203544, 0.9365584509637638, 0.9365559584709712, 0.937827949039107, 0.9367049218880175, 0.9372159132250716, 0.9427838039067238, 0.9393530570347149, 0.9396139340999637, 0.9390670459384226, 0.9402508149299914, 0.937127320225831, 0.9375423204822606, 0.9383215463942044, 0.9393906474048477, 0.9346470116685749, 0.937262211856443, 0.9403855019557367, 0.9356246133574787, 0.934717252917285, 0.9373836587130573, 0.938795019118834, 0.9410987345309861, 0.93498932164913, 0.9347390807266356, 0.939537892653808, 0.9389766710114574, 0.9391854969730933, 0.9362233490061015, 0.9415272987542549, 0.9419572816482851, 0.9437615383329081, 0.9404477932760893, 0.9400000062462274, 0.9334612505068965, 0.9370422825105665, 0.9416941273725153, 0.9354182145854242, 0.9403172466529692, 0.9388989120811848, 0.9428111532277669, 0.936947614163685, 0.9344476722800639, 0.9403859313074138, 0.9425572343897609, 0.9328552318699002, 0.9367885799845668, 0.9401975302460472]





lost_r_old = [0.9580515766348305, 0.9747608835264678, 0.9690392264387427, 0.9673748137090085, 0.9631347996660501, 0.9544880881423876, 0.9553358837484024, 0.9647164601581008, 0.9605163249912212, 0.976791630831353, 0.9687767671162291, 0.9587368484093538, 0.9647518695378375, 0.9707206728430783, 0.9617602255096621, 0.963603982287206, 0.9603031415302363, 0.9699469503270337, 0.9526345885982311, 0.9611070457681389, 0.9630708115401595, 0.9615108748251162, 0.9695549489016265, 0.9603005835891765, 0.9735964022631781, 0.9595204166602459, 0.9657951080451124, 0.9701460301287002, 0.9734447379526089, 0.9533986739393878, 0.9624291061371929, 0.9633356990084094, 0.9647917503002416, 0.9715036815805184, 0.959371341406969, 0.9669004321850615, 0.9621294672797742, 0.9689572430582499, 0.9653432175462648, 0.9624951458905484, 0.9653602188295077, 0.9702868107711559, 0.9661242243131944, 0.9645374912404591, 0.9758657079428082, 0.9633735064772626, 0.9689904014091739, 0.9662934036934673, 0.9608386241574975, 0.9551675550194116, 0.9680806573777613, 0.9678033644331824, 0.9656597600475204, 0.961860757950783, 0.9671488152942893, 0.9569334285663104, 0.964589879858642, 0.9605962603152574, 0.9605771160929696, 0.952259137339851, 0.9608755210659922, 0.9631861914959865, 0.9592478688464009, 0.9662808668909998, 0.9705211514482484, 0.9547881639116653, 0.963744874196037, 0.961417589118465, 0.9475175306473225, 0.9588076891570475, 0.9618869806316463, 0.9529810313079865, 0.9777578194536443, 0.9718011350015043, 0.9490542209985549, 0.9699426119117294, 0.9629849785411034, 0.9720240198952524, 0.9562349669171674, 0.9699391558769925, 0.9634571869414146, 0.9655231231174229, 0.9656732969190794, 0.9654257011254787, 0.9586558564016481, 0.9589239051928234, 0.9702739383042378, 0.9756078585375046, 0.968627542980699, 0.9607133795713079, 0.9656503242031834, 0.9593112293093637, 0.9687304720651452, 0.9642936511281285, 0.9668250589703354, 0.9555729642019177, 0.9676557839484229, 0.9579826871384524, 0.9584744961838767, 0.9613921942200006, 0.9657804121073963, 0.9685386894529238, 0.9615544908493088, 0.9651466857874805, 0.9620308107136378, 0.9642400526683723, 0.9760972635504345, 0.9532845033552939, 0.9595852611558532, 0.9684593696789623, 0.9634139833068598, 0.9661742738469498, 0.9603373973644755, 0.9589089117933066, 0.9672630083558575, 0.9645756649459837, 0.9619106877615704, 0.9610827775703776, 0.9729918901807201, 0.9661185341161173, 0.967385143219668, 0.9689293968956452, 0.9626255794880416, 0.9716414731886029, 0.9563410774476264, 0.966395007364635, 0.9572180942949515, 0.9574991723465386, 0.9650815299093956, 0.958768252073955, 0.967905060057933, 0.9644083826076216, 0.9685456466887477, 0.9516130160892825, 0.9757294970039425, 0.9662354924226417, 0.9651618375402992, 0.9655374306174277, 0.9664337982882925, 0.9697251925080316, 0.9692936258510518, 0.9586216521948956, 0.9507310496304743, 0.9685846643317215, 0.9748323670588105, 0.9662870582817786, 0.9643579330868459, 0.9663060931440903, 0.9531169040005573, 0.9676267785545016, 0.9545138116663994, 0.9707360387248836, 0.9604362714289809, 0.9592754840852555, 0.9655027812068695, 0.9734914933037964, 0.9697608697246398, 0.9683873449008786, 0.9610126735966988, 0.9709747238010438, 0.9628712352168025, 0.956366924331321, 0.957978674069165, 0.9647837110362505, 0.9584070037981933, 0.9717743538063806, 0.9689709515657282, 0.9645743415797053, 0.9539187640615022, 0.9678521690504319, 0.9623170327842309, 0.9676154343571888, 0.9624012165322348, 0.9560732748946662, 0.9638467299596367, 0.9599386515379021, 0.962343954591179, 0.9721001012543039, 0.9686954434895613, 0.9554518090205267, 0.965174179172578, 0.9738480888985888, 0.9636804243550118, 0.970881877375997, 0.9655286403331969, 0.9531198670702093, 0.9642952894389446, 0.9593666276585702, 0.9666858097769591, 0.9690907982053103, 0.9706270672298865, 0.9676139659586914, 0.9648660666930097, 0.9687260894660099, 0.9714721979290459, 0.9614993397263084, 0.9560632075379765, 0.9494050885172567, 0.964418859859236, 0.9606175666604326, 0.9646713331301944, 0.9567496153104135, 0.9613637530622549, 0.966329824814684, 0.9598870056115915, 0.9670485509062349, 0.9619997523620926, 0.9628807450440718, 0.974232527639723, 0.9726447643087469, 0.9574851218743311, 0.9622187494299032, 0.9625888934588129, 0.9700586474215928, 0.9666170961204289, 0.9550463805584427, 0.9736344049897493, 0.9545659213100359, 0.958086658192746, 0.9619376897194042, 0.9653097676595691, 0.9531180651868814, 0.9652447615516021, 0.9625373889531187, 0.9647750319976567, 0.9676380174179926, 0.9711295651216727, 0.9505409391988181, 0.9566143286665897, 0.9715120585055305, 0.964856405819361, 0.9667368236673424, 0.9674772926996014, 0.9682970382441503, 0.9690988109614727, 0.962379018333107, 0.958598843999302, 0.964938296685491, 0.9641201377205318, 0.9732373280800858, 0.9581376683965408, 0.9553862688120711, 0.966063754666362, 0.962206654422947, 0.9607277537027294, 0.96492336880141, 0.9513502711142924, 0.963475521429302, 0.9665707559511078, 0.955110090595176, 0.9560778118421505, 0.960701271061354, 0.9622925344485195, 0.9676318556479873, 0.9611257019590673, 0.9596677633770772, 0.9596279184427841, 0.9640219258160674, 0.9721457326409597, 0.9689144178875272, 0.9622229670075858, 0.9573752628987968, 0.9585773528782756, 0.9732688548889169, 0.9608915273867502, 0.9629560001292666, 0.9688183456073335, 0.9617051725986553, 0.958436850023663, 0.9717148227876502, 0.9684853686388857, 0.9723773008511059, 0.9580402436050087, 0.9501097670160569, 0.9697153588055707, 0.967458128996464, 0.9556927223349209, 0.9636750818378214, 0.9717104435321093, 0.964856249556161, 0.9581072565146296, 0.96771949527079, 0.9615538856729136, 0.9653393874559906, 0.9653744573230455, 0.958963824707425, 0.9669901289967051, 0.9605981223622283, 0.9601578747109764, 0.9661931268422989, 0.9572180803108923, 0.9630737518253416, 0.9709891272245, 0.9657598654824331, 0.9573129112259611, 0.9673292459125836, 0.9530462045794479, 0.9683718869690762, 0.964063356415534, 0.9646108368701073, 0.9641816150138828, 0.9639686698583247, 0.9566591992814156, 0.9688598818663794, 0.9714538419566939, 0.9634009985615114, 0.960443728457403, 0.9629736079256934, 0.9725889804523133, 0.9627627357254854, 0.9694401539403887, 0.9635172156752864, 0.9541455342374487, 0.9618673764395952, 0.9607675343671602, 0.9690753882558961, 0.9673633753748807, 0.9617832438519038, 0.9729628213524116, 0.9675305906293417, 0.9682664224549482, 0.9644317813237543, 0.973453877830508, 0.9584371707781035, 0.9744229872685672, 0.965833349328494, 0.9694834532452085, 0.9759638966932257, 0.9656065108058154, 0.9541358760968323, 0.9607950493343813, 0.9686403516802145, 0.9600517270654255, 0.966089613878813, 0.9640984610629442, 0.9682391029802876, 0.9676331997540766, 0.9700386294034613, 0.9593098377349741, 0.9658130190012773, 0.9725009101878274, 0.9563584380453558, 0.9608128172532512, 0.9677240008585297, 0.9554529780839971, 0.9647428590645464, 0.9599803206952322, 0.9581914343887293, 0.9647356693595022, 0.9584262841377578, 0.9682255304056165, 0.9563501974478172, 0.9579584862936181, 0.9599293215043697, 0.9669073603426803]






font = {'family' : 'sans-serif',
        'size'   : 16}
matplotlib.rc('font', **font)



for i in range(355):
   x.append(i+1)


for i in range(200):
    y.append(i+1)
# Profit

## Old_code
margin_error1 =[]
lost_r_old_2 =[]




#plt.errorbar(x,lost_r_old,fmt="-", color="red",ecolor="lightgray",capsize=2)
plt.errorbar(y,lost_r,fmt="-", color="blue",ecolor="lightgray",capsize=2)



#plt.axvline(x=12, color = "silver", linestyle='--')
#plt.errorbar(x,acceptance_ratio, fmt="-",label="SARA",ecolor="lightgray",capsize=2)
#plt.errorbar(x,profit_reability,fmt="-",label="NR", color="red", ecolor="lightgray",capsize=2)
#plt.errorbar(x,lost_r,fmt="-",label="AAR", color="gray",ecolor="lightgray",capsize=2)

#plt.errorbar(x,profit_r2c,fmt="-",label="AAR", color="blue",ecolor="lightgray",capsize=2)
plt.xlabel('Episodes')
plt.ylabel('Reward')
plt.title(' Reward vs Episodes')
#plt.legend()
plt.legend(fontsize = 14,loc='lower right', fancybox=True, shadow=True)
# plt.legend(loc='upper center', bbox_to_anchor=(0.5, 0.1), fancybox=True, shadow=True, ncol=3)
#plt.show() 
plt.savefig("Amel_3.png",bbox_inches = 'tight') 
plt.close()




