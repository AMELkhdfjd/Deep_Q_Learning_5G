import matplotlib
matplotlib.use("agg")
import matplotlib.pyplot as plt
import csv
import math
import numpy as np


def average(lista): # function to return the average of a list of data


    sum=0.0
    for l in range(0,len(lista)):
        sum=sum+lista[l] 
    return sum/len(lista)

def standardDev(lista): # function to calculate standard deviation
    sum = 0.0
    size = len(lista)
    avrg = average(lista)
    #print "average: ",avrg
    for l in range(0,len(lista)):
        sum = sum + math.pow((lista[l] - avrg), 2.0)    
    return math.sqrt(sum/(size));


x = []
y = []
topologies = ["16BA","abilene"]

########### arrivalRate20 ############
arrival_rate = "20"



lost_r= [0.9327242341292055, 0.9394083411281918, 0.9370988747520309, 0.9374163070545528, 0.9368885338843506, 0.935786548504758, 0.9331985398188983, 0.9343160970464053, 0.9383482449127304, 0.9379966534292341, 0.9374410008002483, 0.9387011484847757, 0.9416217280251223, 0.9400012457983079, 0.9370560181269812, 0.9347289260721134, 0.9404783272541523, 0.9370013365429611, 0.9376516133359344, 0.9380189407064072, 0.938112715365738, 0.9389007691693376, 0.9376505371261693, 0.9392940614045023, 0.9386493150540414, 0.9377365193356874, 0.9365448088719948, 0.9391567294814845, 0.9394989588602827, 0.9413184200421316, 0.9346432419474812, 0.9355641302466586, 0.9454747490040617, 0.9388994151549558, 0.9359479833891194, 0.9422369001482259, 0.9385309703669583, 0.9392598193477351, 0.939128298778371, 0.9405408768427939, 0.9371746317025591, 0.9381195610649702, 0.9459074198147619, 0.9401594066891575, 0.9395775210540103, 0.9374273794158743, 0.9394804361774892, 0.9431121919351254, 0.9365760700243505, 0.9430980985665616, 0.9389124587050214, 0.9407540095967295, 0.9415952111788485, 0.9377985629914759, 0.9427502673523803, 0.9375739163666083, 0.9384132887227794, 0.937773006942746, 0.9411198183286976, 0.9350950935769908, 0.9475538365309429, 0.9432994146732274, 0.9434731388168975, 0.9364731750294335, 0.941085406007217, 0.9367073777739952, 0.9398558554443361, 0.9378571152979498, 0.937005925800579, 0.9385617127797655, 0.9353701183362647, 0.9399719180432482, 0.9339474598963916, 0.9447621730528393, 0.9344458225246147, 0.9411756206583923, 0.9382770554419595, 0.9410491591643338, 0.9389195180275087, 0.9422811405939762, 0.9372311574919884, 0.9426521237654202, 0.939693688587522, 0.9435244848440844, 0.9437474878186132, 0.9374702788187292, 0.9392839997599169, 0.9425920635549078, 0.9419041815329904, 0.935695764064021, 0.9394334396423213, 0.9402800111338904, 0.9414967169850426, 0.9396154528195718, 0.9393073627978314, 0.9361841940478638, 0.9399594063409941, 0.9431551607049447, 0.9328813548219842, 0.9408117199198317, 0.942267403168077, 0.9382357932555505, 0.9416609638312335, 0.9423730963933321, 0.9432130012039635, 0.9394352046708873, 0.9420559929679326, 0.938583030467699, 0.9461609553146443, 0.9391184161839746, 0.9386306544168207, 0.944118243430796, 0.9384736479789205, 0.9395928739317273, 0.937480961763774, 0.9370989327760928, 0.9397651186120518, 0.9377924981879426, 0.9422457515293617, 0.941091213541614, 0.93629445274636, 0.9429741392187136, 0.9426861084307455, 0.9415786290008163, 0.936532371916997, 0.9349099607462665, 0.9379727941332099, 0.9369398465703578, 0.9415571560206953, 0.9444994740270682, 0.9417241769906586, 0.9428867139218409, 0.9394702618752713, 0.9372885922992831, 0.9442293316873015, 0.9370676425647375, 0.9396897792115579, 0.9405881195482201, 0.943383991721354, 0.9412873003420122, 0.9391402295493264, 0.938669870455984, 0.9353652460827853, 0.9359580649825975, 0.9378103224577664, 0.9392276921812273, 0.9404931643516266, 0.9413503982755356, 0.940887800083507, 0.9418895140943163, 0.9438111510246906, 0.9391458482227104, 0.9405534507820648, 0.9404276436075331, 0.9415316682916602, 0.939213391884549, 0.941259256355188, 0.9366937916305361, 0.9374332890679962, 0.938513448368891, 0.9406855712126256, 0.9412252743640221, 0.9387308387986952, 0.93821819523813, 0.9409890270112568, 0.9374188190754185, 0.9401217961602791, 0.9417045569283291, 0.933947672138741, 0.9394066832826955, 0.9422057324145013, 0.9429172409930966, 0.9426166487521213, 0.9319487611464574, 0.9419953507058667, 0.9398054110790703, 0.9367273705692655, 0.9385754054822371, 0.9321574229474511, 0.9423341209979689, 0.9462250437307772, 0.9381243663388551, 0.9442624039061828, 0.9411972772412244, 0.9373041862744507, 0.9395426503136346, 0.9384274211969134, 0.9388389137769245, 0.9408819818472712, 0.9426829012386053, 0.9412194984387267, 0.9368125431989314, 0.9404907548398098, 0.9381960901097876, 0.9390345116729929, 0.94177556106875, 0.9451907796544686, 0.9341687368118657, 0.9339424575880628, 0.9387410797451388, 0.9403368095023592, 0.938184741660309, 0.9351813782087468, 0.9415087507672418, 0.9397811907643114, 0.9373369240581874, 0.9381329503019256, 0.946945258431595, 0.939477843195635, 0.9371974858818133, 0.9366728089074361, 0.9415933218424646, 0.935051922425696, 0.9430925801649475, 0.9424561654868724, 0.936670111739332, 0.9435265221217581, 0.9395786227427784, 0.939064735741764, 0.9347716218266484, 0.9338396914486782, 0.936176375782925, 0.9358532573045428, 0.9318792824358931, 0.943111035676645, 0.9376489425272787, 0.9400766327733594, 0.9351668866082803, 0.9370445485582329, 0.9363821072122399, 0.94131728189335, 0.9381723126691636, 0.9427106878051473, 0.9412236098425508, 0.9412650128668487, 0.9429288862952909, 0.9397424750577885, 0.9443890649460192, 0.944947466877646, 0.9451866735698883, 0.9390357030901044, 0.9381106597117689, 0.9429331591560692, 0.9379055569405512, 0.936680211181855, 0.9405258919190205, 0.9387186618395853, 0.9370481534990953, 0.9428155497781161, 0.935524413348328, 0.9350258405142887, 0.9381766786410722, 0.9360402151608268, 0.9408989043781739, 0.9360793841353497, 0.9409387435638936, 0.9387128164617615, 0.9420798062457756, 0.9406131923601172, 0.9370200028142619, 0.9447280799906106, 0.9374666599855692, 0.9396375216776985, 0.9384122540596467, 0.9383050309528371, 0.93816185966161, 0.9338330688457324, 0.9402619171411976, 0.9427060012604952, 0.937118246612135, 0.9376234504422633, 0.9393864872247003, 0.9394591386715838, 0.9404999458182328, 0.9376286487671112, 0.9381521290869139, 0.938737454092894, 0.9381492945806593, 0.9425119111627319, 0.940355654254248, 0.9377088108395663, 0.9393564900958469, 0.9411961320813212, 0.9366920348578925, 0.9352314058736517, 0.9422797768380038, 0.9394342514973009, 0.9366360051922563, 0.9374036285287322, 0.9398297071996949, 0.9412559275485414, 0.9460479406198108, 0.9475602441614336, 0.9495977461912335, 0.9351647222235205, 0.9401209442711165, 0.9367076402188164, 0.9353807719141011, 0.9399692112924316, 0.9366376833242225, 0.9384632489352833, 0.9433016014539823, 0.938976884823545, 0.9363689269796266, 0.9475486805787342, 0.9358744400648646, 0.9398472606973963, 0.9441286307457097, 0.9422086301564456, 0.9391330054574977, 0.935524603996617, 0.9375306189653386, 0.9397266255384407, 0.942579896263886, 0.9356757717691061, 0.9392504984863583, 0.9385412782955316, 0.940474211201643, 0.9340175940072905, 0.9422912702441698, 0.9416102873172889, 0.9367499261173912, 0.9406352906641924, 0.9426225856747912, 0.9435888520546174, 0.9377946374877048, 0.9400196816042253, 0.9402668937823327, 0.9404372737223919, 0.9456013621675422, 0.9401952991919326, 0.9364038760328905, 0.9402751186692319, 0.938367967738655, 0.9382965499569926, 0.9416013616080232, 0.9357630569740769, 0.932468286318405, 0.9333443562606459, 0.9384769220373821, 0.9420335145558021, 0.9407810392509903, 0.9396070457155322, 0.9356967664814138, 0.940052601908388, 0.9339561620458932, 0.9434577406651696, 0.9386638698884499, 0.9447945348557817, 0.9388907556883425, 0.9363581229822536, 0.9337513736512203, 0.9395236272142052, 0.940640636654807, 0.9332950274634191, 0.9408476264708113, 0.9404899303580865]





lost_r_old =  [0.9615563253231892, 0.979038181940265, 0.9734032860244857, 0.9709927426758811, 0.9668530698086321, 0.9570539936654261, 0.9581190373375749, 0.96819058694494, 0.963700606716753, 0.9816390046257981, 0.9731274436233371, 0.9620738428914061, 0.9685019876621184, 0.9750483211957315, 0.9653503602532993, 0.9671534945644601, 0.9632745983144353, 0.9740162460190842, 0.9549676016189146, 0.9638285631106639, 0.9662666756285521, 0.9647788139431905, 0.9737904204570681, 0.9632356944052544, 0.9780612792296346, 0.9621670456333142, 0.9689928604467462, 0.9745857338240818, 0.9776484085912468, 0.9555847164478118, 0.9657514299021707, 0.966279687990414, 0.968147709138395, 0.9754573854305982, 0.9622935448264116, 0.9707078211015802, 0.9656127180617288, 0.9727144671450916, 0.968937804692627, 0.9653602606921365, 0.9691041595911634, 0.9745618128938401, 0.969634075769091, 0.9675897200738611, 0.9810221179638342, 0.9665260692928814, 0.9730040584801095, 0.9701821430982781, 0.963770709496643, 0.9576495230013748, 0.9720474565780525, 0.9711929862927464, 0.969509262933937, 0.9643399690888945, 0.9710322597385812, 0.9595594985085854, 0.9676097407732426, 0.9629788945129472, 0.9632755977270506, 0.9542370533450445, 0.9636249791228513, 0.9664783284335801, 0.9620806397989118, 0.9700798533041982, 0.9750247416867153, 0.9574731657142864, 0.9671718807562117, 0.9644044305608269, 0.948712939551007, 0.9614731609283705, 0.9649438418670739, 0.9554533809140939, 0.982995570495815, 0.9758997954519985, 0.9502768089731859, 0.9733744811543921, 0.9659490586995199, 0.9761723452371902, 0.9585950516679375, 0.9737094311048402, 0.9666128162267299, 0.9684999731354442, 0.968975867132441, 0.9688342347689136, 0.9614550067743676, 0.9615568892706394, 0.9735280259767148, 0.9802717184270977, 0.9725496800213785, 0.9634077365563088, 0.9688984891756239, 0.9610957789165397, 0.9715249400798345, 0.9673296931039285, 0.9707169047159652, 0.9580297296877122, 0.9712594769492896, 0.9603732785591558, 0.9608809121350863, 0.9642402328389519, 0.9687767770412216, 0.972022440556118, 0.9641565301243907, 0.968165335839416, 0.9642410359687058, 0.9673374608484957, 0.980610884837527, 0.9547923090020686, 0.9618363651455842, 0.9723011404890217, 0.966586100636627, 0.9692301097379873, 0.9627429007785742, 0.9614972859113352, 0.9702781207474378, 0.9680643319052507, 0.9647980923309226, 0.9630494909616761, 0.9770832912659398, 0.9691950851639359, 0.9707985371615189, 0.97200883320375, 0.9658026340584274, 0.9751541038054884, 0.9586200916139894, 0.969008178462842, 0.959879200364175, 0.9602827041922578, 0.9680880158306029, 0.9608793901400954, 0.9712904807759002, 0.967307796600265, 0.9719362217207715, 0.9532692622352174, 0.9798856749918847, 0.9698109382882787, 0.9685234398697814, 0.9685766780495182, 0.9695631327215976, 0.9738573413567624, 0.9727232476758223, 0.960890736291731, 0.9522580616855555, 0.9717580754337907, 0.9795491145173665, 0.9690711824885274, 0.9673064115018852, 0.9695450410633467, 0.9551721453621923, 0.9709472572266998, 0.9566155960433941, 0.9737984744651378, 0.9631661296472588, 0.9622883629592078, 0.9680017570099011, 0.9775246914258098, 0.9733862302383577, 0.971941224716454, 0.9641461151891388, 0.9748171165940421, 0.9662617318951576, 0.9592136347990023, 0.9602373755130792, 0.9674643718726974, 0.9611852985816697, 0.9759486546249443, 0.9723208395139593, 0.9680042014579301, 0.9558042640684266, 0.9715390967112496, 0.9649136545141673, 0.9707930653960579, 0.9648431331027121, 0.957642755087409, 0.9664291671200579, 0.9629590487330952, 0.9658354865456458, 0.9761957267141426, 0.9723512170262941, 0.9575220204895398, 0.968529705671839, 0.978448793245363, 0.9668879019895251, 0.9745713502630378, 0.9690552099212022, 0.9548631179558902, 0.9669924835499311, 0.9611972446951206, 0.9701927007721882, 0.9725544178364574, 0.9743192609202341, 0.9709571714684849, 0.9683451408030596, 0.9723986082101279, 0.9755823717704357, 0.9637745478741662, 0.957820685447809, 0.9503573315631699, 0.967432791482299, 0.9632168530453793, 0.9682082969828295, 0.9586877406656678, 0.9645727704308065, 0.9697590068983833, 0.9628864341083738, 0.969934976579847, 0.9652275884548537, 0.9657913379500346, 0.9782634080617432, 0.9765926525090581, 0.9599876553509955, 0.9648887392584812, 0.9652409195213772, 0.9734557572546654, 0.9700581017100229, 0.9572280526207829, 0.9775516382909509, 0.9569637070963795, 0.9613095532295963, 0.9643752752176364, 0.9685212077794655, 0.954801152864681, 0.9690381928714141, 0.9651395396724461, 0.9677341747321908, 0.9706247656761624, 0.974841196479754, 0.9526134438318768, 0.9588219898360343, 0.9750163358105496, 0.9677080933702257, 0.9703519591054367, 0.9711447694016189, 0.971733098416624, 0.9729206827251701, 0.9653483861978468, 0.9613561043013327, 0.9681024720357947, 0.967574666026122, 0.9777073792458212, 0.9608191214143134, 0.9575593524954519, 0.9691809542948335, 0.9650433856804524, 0.9632525868708263, 0.968033052638382, 0.9526675851294667, 0.9665524238300853, 0.9696719760470283, 0.9573403470179331, 0.9582597162682556, 0.9635079888240118, 0.9647416249492097, 0.9714546493095368, 0.9638921906804788, 0.9627101390248333, 0.9617136193161286, 0.9667042917650942, 0.9761969462291852, 0.9723193628675244, 0.9654814038051577, 0.9600103042000494, 0.9612489220671402, 0.9771965284233182, 0.9634083557302321, 0.9656490189600195, 0.9720023518480543, 0.9651228001848944, 0.9609074823482615, 0.9759077967642377, 0.9719576802856027, 0.9763125726944815, 0.9603582401979109, 0.9519190420043179, 0.9735293250660693, 0.9708087214887189, 0.9567794327037992, 0.9665723427198042, 0.9751513000273517, 0.967963529241714, 0.9606614708318091, 0.9710791976330672, 0.9639857821638276, 0.9688557070007181, 0.9688976283882244, 0.9619211401411927, 0.9703113737817459, 0.9631056999718179, 0.9631962133502763, 0.9695375172197901, 0.9593327254654175, 0.9660182988378349, 0.9744280954512626, 0.9691533813489225, 0.9592992382662637, 0.9700866060034253, 0.9545647237644467, 0.9717407106512729, 0.9668147880042238, 0.967817596259744, 0.9671850087635467, 0.966995969183283, 0.9589894616130722, 0.9725938101163688, 0.9751627686104167, 0.9662905336021147, 0.9621713033713691, 0.966476773455826, 0.9764301300892931, 0.9654458701002689, 0.9731903369148248, 0.9666994317429706, 0.9563040757433883, 0.9645453246881807, 0.9635717768089531, 0.9729049677998264, 0.9712257108014086, 0.964596523787173, 0.976953889591193, 0.9711733515767299, 0.9718314865545208, 0.9675544915734675, 0.9775890212271039, 0.9606686981458017, 0.9786692191547274, 0.9695921696427074, 0.9731264667270784, 0.98005285001534, 0.9685422224811354, 0.9560289395703538, 0.9633830253716766, 0.9719093586021761, 0.9625935735136124, 0.9695439144820998, 0.9674266428223574, 0.9712143851675704, 0.9708445065468622, 0.9738876660257257, 0.9622295227644727, 0.9693284847989025, 0.9754858709218397, 0.9582076492011501, 0.9634539351240562, 0.9705237590004814, 0.957628770473291, 0.9669125599014248, 0.962607408968319, 0.961286433547768, 0.9678783613776076, 0.9602562609721149, 0.9712289735833002, 0.9588146962024439, 0.9601850627206808, 0.9623121146325087, 0.9704497058318454]


font = {'family' : 'sans-serif',
        'size'   : 16}
matplotlib.rc('font', **font)



for i in range(355):
   x.append(i+1)


for i in range(357):
    y.append(i+1)
# Profit

## Old_code
margin_error1 =[]
lost_r_old_2 =[]




#plt.bar(range(len(lost_r_old)), lost_r_old)


#plt.errorbar(x,lost_r_old,fmt="-", color="blue",ecolor="lightgray",capsize=2, label= "Old")
plt.errorbar(y,lost_r,fmt="-", color="red",ecolor="lightgray",capsize=2,label= "New")



#plt.axvline(x=12, color = "silver", linestyle='--')
#plt.errorbar(x,acceptance_ratio, fmt="-",label="SARA",ecolor="lightgray",capsize=2)
#plt.errorbar(x,profit_reability,fmt="-",label="NR", color="red", ecolor="lightgray",capsize=2)
#plt.errorbar(x,lost_r,fmt="-",label="AAR", color="gray",ecolor="lightgray",capsize=2)

#plt.errorbar(x,profit_r2c,fmt="-",label="AAR", color="blue",ecolor="lightgray",capsize=2)
plt.xlabel('Episodes')
plt.ylabel('Reward')
plt.title(' Reward vs Episodes')
#plt.legend()
plt.legend(fontsize = 14,loc='lower right', fancybox=True, shadow=True)
# plt.legend(loc='upper center', bbox_to_anchor=(0.5, 0.1), fancybox=True, shadow=True, ncol=3)
#plt.show() 
plt.savefig("Big_profit_r2C.png",bbox_inches = 'tight') 
plt.close()




