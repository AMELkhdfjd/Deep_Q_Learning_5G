import matplotlib
matplotlib.use("agg")
import matplotlib.pyplot as plt
import csv
import math
import numpy as np


def average(lista): # function to return the average of a list of data


    sum=0.0
    for l in range(0,len(lista)):
        sum=sum+lista[l] 
    return sum/len(lista)

def standardDev(lista): # function to calculate standard deviation
    sum = 0.0
    size = len(lista)
    avrg = average(lista)
    #print "average: ",avrg
    for l in range(0,len(lista)):
        sum = sum + math.pow((lista[l] - avrg), 2.0)    
    return math.sqrt(sum/(size));


x = []
y = []
topologies = ["16BA","abilene"]

########### arrivalRate20 ############
arrival_rate = "20"



lost_r=  [0.928691231948133, 0.938397303200562, 0.9355371432512166, 0.9362046833015251, 0.936338742152824, 0.9320716160064035, 0.9336269120898308, 0.9319480431529984, 0.9365158009078098, 0.9391406043604515, 0.9364323007648222, 0.9358486741775619, 0.9375791800515199, 0.9344800016537579, 0.9338471292825065, 0.9353078598273833, 0.9368000085603656, 0.9371294135976654, 0.9421014492022496, 0.9401451233168258, 0.9403779759147761, 0.9309301397847423, 0.9375464334175655, 0.9381097488158785, 0.935736313134666, 0.9351897376719973, 0.9417153719926598, 0.9416243334530979, 0.9381684756298394, 0.9414213556681689, 0.937311492561721, 0.9405609083214544, 0.937455200313347, 0.9397050897144953, 0.9355234112111732, 0.9382033150967725, 0.9390755108512725, 0.9360944501327791, 0.9405791321414475, 0.9406579170560722, 0.9384433877071321, 0.936512807595393, 0.9410898717403539, 0.9381163558603118, 0.9422138682397336, 0.9401665968457633, 0.9338023089067267, 0.9436226977461553, 0.9395106957575496, 0.9395386591501386, 0.9382142964278424, 0.9402261878029253, 0.9362529162856263, 0.9352059595266264, 0.9373852399517744, 0.938628936517765, 0.9403846964857452, 0.9350692954008595, 0.9322338611714283, 0.938315756374473, 0.9376061822144571, 0.9362654988513015, 0.9369879838135763, 0.9338007425718168, 0.934880736509999, 0.9357893684282217, 0.9377775219902528, 0.9387446089154768, 0.9427017878868775, 0.9367369732462435, 0.9376603774029569, 0.9401257131210553, 0.9376871872316173, 0.9392541728248409, 0.9367947834244479, 0.9343251006079936, 0.9341155284355328, 0.9433194740250708, 0.935029725136051, 0.9360703102779039, 0.9332336171325291, 0.9372898838145868, 0.9355943234494023, 0.9340274392752603, 0.9436464896453586, 0.9371771216588196, 0.9357471385636545, 0.9341444199525518, 0.9399893776164606, 0.9329349232412648, 0.9364061993159294, 0.9378096358880057, 0.932415975568886, 0.9355723281812982, 0.9399415224840989, 0.9308709084786377, 0.9376780737405267, 0.9446452230804914, 0.9376069174545635, 0.9360062634454831, 0.9415583196300104, 0.9414102221653604, 0.9395541037712225, 0.9388829376889732, 0.9337853214124302, 0.936980998310792, 0.9416173780623904, 0.9355872977237613, 0.9444253655691441, 0.9355584808655367, 0.9384463758820804, 0.9366829477702786, 0.9388315097135371, 0.9396177518044863, 0.937404353383911, 0.9378111576773666, 0.9385431869672448, 0.9389507958628655, 0.9370102813279669, 0.9388164543750285, 0.9423323401097091, 0.9354916384153003, 0.9397364924090813, 0.9370952047138837, 0.9411961589172954, 0.9378177941341062, 0.9391010668904003, 0.9347301307656988, 0.9362220028062689, 0.9381809104395918, 0.9402819488003372, 0.9314195005831579, 0.9342146080887253, 0.9363440698558372, 0.9367322968032447, 0.9402801098619689, 0.9383553966151911, 0.936712199757179, 0.9405377761757044, 0.9329708603435615, 0.933742738227764, 0.941843110767897, 0.9362424998883487, 0.9411635820589093, 0.9378132955351549, 0.9381971291253872, 0.9365739853637246, 0.9408574870488862, 0.9334452298342519, 0.9375242690249872, 0.9365767499701239, 0.9366004690277366, 0.9363378649808356, 0.9332998003106598, 0.9335858338068466, 0.9392980543230193, 0.9386056332083625, 0.9376421152109775, 0.9353112083266735, 0.9383483804102903, 0.9349521685246728, 0.9377411161576417, 0.9416162290518736, 0.9428153708083866, 0.9378898028109655, 0.9380533320633739, 0.9374175568275991, 0.937486046032943, 0.9338420473379316, 0.9342886829705653, 0.939979092971171, 0.9397507005355438, 0.9387221043377622, 0.9370964122258758, 0.9408898694789962, 0.9337558062227841, 0.9413105087341093, 0.9405910579232513, 0.9403341472742283, 0.9372630477520251, 0.9377989410631993, 0.9391654734249598, 0.9347613153463882, 0.9346189284001383, 0.9395430589873844, 0.9315061208919035, 0.9376294753868353, 0.9365155382573016, 0.9348554147568655, 0.9445927391643442, 0.9414807768602091, 0.9367441660624417, 0.9373873816474578, 0.9394437893665257, 0.9412127650597029, 0.9362626182647931, 0.9398940715218218, 0.9396774213477306, 0.9391703377635781, 0.9413700352209716, 0.9392113957878503, 0.9419698227493409, 0.9440105568069141, 0.9447333588849649, 0.9409064335338927, 0.9411107295334922, 0.9430685549548843, 0.9413982801448436, 0.9432270831578017, 0.9400966887664055, 0.9355035681294351, 0.9376579449482183, 0.9401541538160617, 0.9345647998547685, 0.9370272936850803, 0.9408602979935551, 0.9387793871643126, 0.9360035007269174, 0.9419276038629647, 0.9393011661955483, 0.9395238402203985, 0.9342223933411388, 0.9386867922012432, 0.9349784177296027, 0.9390424681716736, 0.9436846100643682, 0.9455145305352973, 0.9358123563388846, 0.9442643940350697, 0.9365572530578442, 0.9454795771022474, 0.9395476542241991, 0.9440000697617901, 0.9367485687321855, 0.943399211053545, 0.9400310174440945, 0.9373435811916998, 0.9408458024287716, 0.9413898637525651, 0.9373145784696089, 0.9396221562892998, 0.9365579859873984, 0.9340326694192027, 0.939405189044746, 0.9372461839553735, 0.9365871026128348, 0.9378594796738339, 0.9386454103586404, 0.9354605945169552, 0.9450921805138586, 0.9364470347808134, 0.9385450227324156, 0.9367802469004485, 0.9411662560724186, 0.9352209066548541, 0.9399285178706797, 0.94899089338442, 0.9416614925877298, 0.9411892463749861, 0.9417858493442216, 0.936745007259247, 0.9413326113696651, 0.9434705587736342, 0.9328804238301406, 0.9431050333990015, 0.9386410645043785, 0.9411907396386469, 0.9362591405075518, 0.9400581174407524, 0.9362317569240154, 0.9396374103512835, 0.9414063306222237, 0.9429745626186372, 0.9335963295969771, 0.9411764834363265, 0.9382098077640613, 0.938881592310304, 0.9362950593302244, 0.9426334890533475, 0.9424869508489199, 0.9446659370442442, 0.9374164095315568, 0.9336134387942975, 0.9445169489624822, 0.9430557494514188, 0.9452147131991459, 0.9400725483332558, 0.9398173030981317, 0.9416204639982538, 0.9393217726863218, 0.9346149794133021, 0.9389875494506822, 0.9411127303331281, 0.9389963599628182, 0.9401635885706114, 0.9359936688441363, 0.9382736345778419, 0.9395754776648776, 0.9368054383845561, 0.9432530763975054, 0.9361724303355133, 0.937839472040381, 0.9420358919075545, 0.940045506501898, 0.9469284842661394, 0.9414090097527574, 0.9398166500219304, 0.9500657724528072, 0.9438972653736952, 0.9398414052900438, 0.9374037968533683, 0.930442948687118, 0.9376060242050814, 0.9349996382375143, 0.9364122961374435, 0.937762751607549, 0.9386557404830945, 0.936400101347628, 0.9388929418640242, 0.9358673014514375, 0.9361326042019497, 0.9373248404935021, 0.9404009629633481, 0.94171696690635, 0.9388769152533692, 0.940802216524154, 0.9431207859357911, 0.940118661132162, 0.940197110771045, 0.9390848711435041, 0.9390417150678934, 0.9431103727299196, 0.946173607400945, 0.9460717339206836, 0.9436518039820978, 0.9382075556328099, 0.941592020005371, 0.9453158586960637, 0.9413614327270723, 0.9384308739653306, 0.9319584243962618, 0.9364241943893882, 0.9356480017883052, 0.9408472178415177, 0.9408662036293232, 0.9399645243907281, 0.9442988034310761, 0.9416479212918526, 0.9370224320985737, 0.940501198384185, 0.9412694757115921, 0.9360405956942738, 0.9423006767170169, 0.9445106334312502, 0.9450125951918104, 0.9415128441206059, 0.9448313030230118, 0.9415774057769449, 0.9411340034457156, 0.9425747190909373, 0.9399957104804179, 0.9411771818146867, 0.9395458014977192, 0.9444657675179723, 0.9382088399817334, 0.9381150249630199, 0.9387758059917167, 0.9416851041988072, 0.9398729812700262, 0.9354192199105323, 0.9407403862454861, 0.9443242460552888, 0.9455396630585965, 0.9435204254130232, 0.9435720763747316, 0.9383737339781176, 0.9413473431591508, 0.9443418655722349, 0.9407295476998444, 0.9327561322455294, 0.9379251015943276, 0.9365767950250963, 0.9378537770149655, 0.93821595327745, 0.941187304060937, 0.9428935855118421, 0.9425164966487383, 0.9461791595672654, 0.941194849197805, 0.9420304851323924, 0.9377427769104851, 0.9418820357984576]





lost_r_old = [0.9327242341292055, 0.9394083411281918, 0.9370988747520309, 0.9374163070545528, 0.9368885338843506, 0.935786548504758, 0.9331985398188983, 0.9343160970464053, 0.9383482449127304, 0.9379966534292341, 0.9374410008002483, 0.9387011484847757, 0.9416217280251223, 0.9400012457983079, 0.9370560181269812, 0.9347289260721134, 0.9404783272541523, 0.9370013365429611, 0.9376516133359344, 0.9380189407064072, 0.938112715365738, 0.9389007691693376, 0.9376505371261693, 0.9392940614045023, 0.9386493150540414, 0.9377365193356874, 0.9365448088719948, 0.9391567294814845, 0.9394989588602827, 0.9413184200421316, 0.9346432419474812, 0.9355641302466586, 0.9454747490040617, 0.9388994151549558, 0.9359479833891194, 0.9422369001482259, 0.9385309703669583, 0.9392598193477351, 0.939128298778371, 0.9405408768427939, 0.9371746317025591, 0.9381195610649702, 0.9459074198147619, 0.9401594066891575, 0.9395775210540103, 0.9374273794158743, 0.9394804361774892, 0.9431121919351254, 0.9365760700243505, 0.9430980985665616, 0.9389124587050214, 0.9407540095967295, 0.9415952111788485, 0.9377985629914759, 0.9427502673523803, 0.9375739163666083, 0.9384132887227794, 0.937773006942746, 0.9411198183286976, 0.9350950935769908, 0.9475538365309429, 0.9432994146732274, 0.9434731388168975, 0.9364731750294335, 0.941085406007217, 0.9367073777739952, 0.9398558554443361, 0.9378571152979498, 0.937005925800579, 0.9385617127797655, 0.9353701183362647, 0.9399719180432482, 0.9339474598963916, 0.9447621730528393, 0.9344458225246147, 0.9411756206583923, 0.9382770554419595, 0.9410491591643338, 0.9389195180275087, 0.9422811405939762, 0.9372311574919884, 0.9426521237654202, 0.939693688587522, 0.9435244848440844, 0.9437474878186132, 0.9374702788187292, 0.9392839997599169, 0.9425920635549078, 0.9419041815329904, 0.935695764064021, 0.9394334396423213, 0.9402800111338904, 0.9414967169850426, 0.9396154528195718, 0.9393073627978314, 0.9361841940478638, 0.9399594063409941, 0.9431551607049447, 0.9328813548219842, 0.9408117199198317, 0.942267403168077, 0.9382357932555505, 0.9416609638312335, 0.9423730963933321, 0.9432130012039635, 0.9394352046708873, 0.9420559929679326, 0.938583030467699, 0.9461609553146443, 0.9391184161839746, 0.9386306544168207, 0.944118243430796, 0.9384736479789205, 0.9395928739317273, 0.937480961763774, 0.9370989327760928, 0.9397651186120518, 0.9377924981879426, 0.9422457515293617, 0.941091213541614, 0.93629445274636, 0.9429741392187136, 0.9426861084307455, 0.9415786290008163, 0.936532371916997, 0.9349099607462665, 0.9379727941332099, 0.9369398465703578, 0.9415571560206953, 0.9444994740270682, 0.9417241769906586, 0.9428867139218409, 0.9394702618752713, 0.9372885922992831, 0.9442293316873015, 0.9370676425647375, 0.9396897792115579, 0.9405881195482201, 0.943383991721354, 0.9412873003420122, 0.9391402295493264, 0.938669870455984, 0.9353652460827853, 0.9359580649825975, 0.9378103224577664, 0.9392276921812273, 0.9404931643516266, 0.9413503982755356, 0.940887800083507, 0.9418895140943163, 0.9438111510246906, 0.9391458482227104, 0.9405534507820648, 0.9404276436075331, 0.9415316682916602, 0.939213391884549, 0.941259256355188, 0.9366937916305361, 0.9374332890679962, 0.938513448368891, 0.9406855712126256, 0.9412252743640221, 0.9387308387986952, 0.93821819523813, 0.9409890270112568, 0.9374188190754185, 0.9401217961602791, 0.9417045569283291, 0.933947672138741, 0.9394066832826955, 0.9422057324145013, 0.9429172409930966, 0.9426166487521213, 0.9319487611464574, 0.9419953507058667, 0.9398054110790703, 0.9367273705692655, 0.9385754054822371, 0.9321574229474511, 0.9423341209979689, 0.9462250437307772, 0.9381243663388551, 0.9442624039061828, 0.9411972772412244, 0.9373041862744507, 0.9395426503136346, 0.9384274211969134, 0.9388389137769245, 0.9408819818472712, 0.9426829012386053, 0.9412194984387267, 0.9368125431989314, 0.9404907548398098, 0.9381960901097876, 0.9390345116729929, 0.94177556106875, 0.9451907796544686, 0.9341687368118657, 0.9339424575880628, 0.9387410797451388, 0.9403368095023592, 0.938184741660309, 0.9351813782087468, 0.9415087507672418, 0.9397811907643114, 0.9373369240581874, 0.9381329503019256, 0.946945258431595, 0.939477843195635, 0.9371974858818133, 0.9366728089074361, 0.9415933218424646, 0.935051922425696, 0.9430925801649475, 0.9424561654868724, 0.936670111739332, 0.9435265221217581, 0.9395786227427784, 0.939064735741764, 0.9347716218266484, 0.9338396914486782, 0.936176375782925, 0.9358532573045428, 0.9318792824358931, 0.943111035676645, 0.9376489425272787, 0.9400766327733594, 0.9351668866082803, 0.9370445485582329, 0.9363821072122399, 0.94131728189335, 0.9381723126691636, 0.9427106878051473, 0.9412236098425508, 0.9412650128668487, 0.9429288862952909, 0.9397424750577885, 0.9443890649460192, 0.944947466877646, 0.9451866735698883, 0.9390357030901044, 0.9381106597117689, 0.9429331591560692, 0.9379055569405512, 0.936680211181855, 0.9405258919190205, 0.9387186618395853, 0.9370481534990953, 0.9428155497781161, 0.935524413348328, 0.9350258405142887, 0.9381766786410722, 0.9360402151608268, 0.9408989043781739, 0.9360793841353497, 0.9409387435638936, 0.9387128164617615, 0.9420798062457756, 0.9406131923601172, 0.9370200028142619, 0.9447280799906106, 0.9374666599855692, 0.9396375216776985, 0.9384122540596467, 0.9383050309528371, 0.93816185966161, 0.9338330688457324, 0.9402619171411976, 0.9427060012604952, 0.937118246612135, 0.9376234504422633, 0.9393864872247003, 0.9394591386715838, 0.9404999458182328, 0.9376286487671112, 0.9381521290869139, 0.938737454092894, 0.9381492945806593, 0.9425119111627319, 0.940355654254248, 0.9377088108395663, 0.9393564900958469, 0.9411961320813212, 0.9366920348578925, 0.9352314058736517, 0.9422797768380038, 0.9394342514973009, 0.9366360051922563, 0.9374036285287322, 0.9398297071996949, 0.9412559275485414, 0.9460479406198108, 0.9475602441614336, 0.9495977461912335, 0.9351647222235205, 0.9401209442711165, 0.9367076402188164, 0.9353807719141011, 0.9399692112924316, 0.9366376833242225, 0.9384632489352833, 0.9433016014539823, 0.938976884823545, 0.9363689269796266, 0.9475486805787342, 0.9358744400648646, 0.9398472606973963, 0.9441286307457097, 0.9422086301564456, 0.9391330054574977, 0.935524603996617, 0.9375306189653386, 0.9397266255384407, 0.942579896263886, 0.9356757717691061, 0.9392504984863583, 0.9385412782955316, 0.940474211201643, 0.9340175940072905, 0.9422912702441698, 0.9416102873172889, 0.9367499261173912, 0.9406352906641924, 0.9426225856747912, 0.9435888520546174, 0.9377946374877048, 0.9400196816042253, 0.9402668937823327, 0.9404372737223919, 0.9456013621675422, 0.9401952991919326, 0.9364038760328905, 0.9402751186692319, 0.938367967738655, 0.9382965499569926, 0.9416013616080232, 0.9357630569740769, 0.932468286318405, 0.9333443562606459, 0.9384769220373821, 0.9420335145558021, 0.9407810392509903, 0.9396070457155322, 0.9356967664814138, 0.940052601908388, 0.9339561620458932, 0.9434577406651696, 0.9386638698884499, 0.9447945348557817, 0.9388907556883425, 0.9363581229822536, 0.9337513736512203, 0.9395236272142052, 0.940640636654807, 0.9332950274634191, 0.9408476264708113, 0.9404899303580865]


font = {'family' : 'sans-serif',
        'size'   : 16}
matplotlib.rc('font', **font)



for i in range(357):
   x.append(i+1)


for i in range(392):
    y.append(i+1)
# Profit

## Old_code
margin_error1 =[]
lost_r_old_2 =[]




#plt.bar(range(len(lost_r_old)), lost_r_old)


#plt.errorbar(x,lost_r_old,fmt="-", color="grey",ecolor="lightgray",capsize=2, label= "Old")
plt.errorbar(y,lost_r,fmt="-", color="red",ecolor="lightgray",capsize=2,label= "New")



#plt.axvline(x=12, color = "silver", linestyle='--')
#plt.errorbar(x,acceptance_ratio, fmt="-",label="SARA",ecolor="lightgray",capsize=2)
#plt.errorbar(x,profit_reability,fmt="-",label="NR", color="red", ecolor="lightgray",capsize=2)
#plt.errorbar(x,lost_r,fmt="-",label="AAR", color="gray",ecolor="lightgray",capsize=2)

#plt.errorbar(x,profit_r2c,fmt="-",label="AAR", color="blue",ecolor="lightgray",capsize=2)
plt.xlabel('Episodes')
plt.ylabel('Reward')
plt.title(' Reward vs Episodes')
#plt.legend()
plt.legend(fontsize = 14,loc='lower right', fancybox=True, shadow=True)
# plt.legend(loc='upper center', bbox_to_anchor=(0.5, 0.1), fancybox=True, shadow=True, ncol=3)
#plt.show() 
plt.savefig("Big_profit_r2C.png",bbox_inches = 'tight') 
plt.close()




