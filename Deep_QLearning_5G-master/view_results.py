import matplotlib
matplotlib.use("agg")
import matplotlib.pyplot as plt
import csv
import math
import numpy as np


def average(lista): # function to return the average of a list of data


    sum=0.0
    for l in range(0,len(lista)):
        sum=sum+lista[l] 
    return sum/len(lista)

def standardDev(lista): # function to calculate standard deviation
    sum = 0.0
    size = len(lista)
    avrg = average(lista)
    #print "average: ",avrg
    for l in range(0,len(lista)):
        sum = sum + math.pow((lista[l] - avrg), 2.0)    
    return math.sqrt(sum/(size));


x = []
y = []
topologies = ["16BA","abilene"]

########### arrivalRate20 ############
arrival_rate = "20"



lost_r= [0.9581858748055574, 0.9647814025543558, 0.9580483428651939, 0.9511449493030031, 0.9660810853139997, 0.9560020300987232, 0.9630275651499981, 0.9656708172095586, 0.9637206999109784, 0.9577918773083134, 0.9606916326303376, 0.9651955342291461, 0.9607560514180578, 0.9640493999868696, 0.9516199036448719, 0.957414553535541, 0.964267839800461, 0.9658306378662705, 0.9640750909057249, 0.9803750399456955, 0.9490727361984199, 0.966213402227917, 0.9659680403821969, 0.9686262477849615, 0.9606025128145318, 0.9638074778044263, 0.9631306441262938, 0.9507512273377529, 0.9662205535449402, 0.9674996301305687, 0.9602076609599083, 0.9549696532337749, 0.9772520046667438, 0.963847772565045, 0.9625632875282049, 0.9577443474316844, 0.9585917729342018, 0.9574860253796897, 0.9736039259646149, 0.96556432158518, 0.9588880332745978, 0.9599100264802036, 0.95326079523351, 0.9668352458641515, 0.9652833241495006, 0.9764720292188168, 0.9707708695006239, 0.9679294760004087, 0.9710427532791793, 0.961555454419036, 0.9642348172535502, 0.9571022343591864, 0.9701197422271736, 0.9517628346670178, 0.9605941373618724, 0.9656934713066476, 0.9564818157735591, 0.9693152248005884, 0.9698784327567179, 0.9699334168609582, 0.9762167341001801, 0.9569588270823841, 0.9623722805931344, 0.9608096551533254, 0.9589971489614251, 0.9651367734727518, 0.9626897547395795, 0.9595673774110778, 0.9684255805284635, 0.9618642033379297, 0.972160751106323, 0.9593307534756126, 0.9594849473500395, 0.9609626890126273, 0.9619446170457926, 0.9542941211944198, 0.9691506241258047, 0.9679945728975938, 0.9546295329456734, 0.9587185432646521, 0.9728209380915456, 0.9669702066133543, 0.9625877507005777, 0.9623610974917087, 0.9677594287436301, 0.9619296282825973, 0.9611650217080812, 0.9633970273995576, 0.9640407843346777, 0.962817821977084, 0.9662824370563271, 0.9541320976117713, 0.9548250017590314, 0.9626947829854636, 0.9634683260623451, 0.9679483600900556, 0.9648109596928003, 0.9674641478697704, 0.9720839655935322, 0.9610510073730345, 0.9696800718132477, 0.961725182170567, 0.9649183669960384, 0.9669871237796012, 0.9551392010868562, 0.9696396666376215, 0.9642655637040725, 0.9625563291611955, 0.9669137662502317, 0.9667556277569941, 0.9577804089253392, 0.9678675757313653, 0.9575903058107642, 0.9660650708708831, 0.9656709384810884, 0.9682458408655225, 0.9612879078486902, 0.9573872663890697, 0.9628160268335615, 0.963469639477232, 0.9563059490986294, 0.969732631591791, 0.9647212042700721, 0.9651816520297875, 0.964753882933552, 0.96712680883422, 0.9561584348491478, 0.9569366007750145, 0.9727641721733229, 0.9587412231317449, 0.9641323314001949, 0.971193209357355, 0.9632974457460164, 0.9533839912347677, 0.9687463173545017, 0.9557619715459063, 0.9567766420064596, 0.9555731514944322, 0.9722556008672402, 0.9608988569639306, 0.9667587214107284, 0.9731472651231314, 0.9777523870933218, 0.9701485238934282, 0.9688872296579984, 0.9641277416463284, 0.9659621239919566, 0.9745145439028048, 0.9608607706085208, 0.9654555122556701, 0.9641640450768212, 0.9665915568815394, 0.9659977148880128, 0.961126763881114, 0.9590724125775523, 0.9568740701324872, 0.958898878649723, 0.96676271035949, 0.9581410382199594, 0.9599269319733074, 0.9694247493826725, 0.9571423554970881, 0.9617781291830343, 0.9587600980299975, 0.9710230577432053, 0.9654942646627629, 0.9679725383376223, 0.9562844932459683, 0.9606545274495383, 0.9646262891816125, 0.9658474145151696, 0.970789993390535, 0.9571689011920994, 0.9620430440360808, 0.9465367382115638, 0.9602900301593348, 0.960471359319107, 0.9632052662225093, 0.9669134939766266, 0.9655916580208095, 0.9486617564558785, 0.965414048939782, 0.9622392003253749, 0.9651477716645721, 0.9706032551045322, 0.9567919837179386, 0.9632761120722747, 0.9660801110476356, 0.962593518336762, 0.9611720457241186, 0.9688428996960179, 0.963422430318797, 0.9712049748171288, 0.9636175995479184, 0.9643471378408888, 0.970177780869598, 0.9761031582500971, 0.9641666596146021, 0.9634655075556012, 0.9589958971283198, 0.969947175505605, 0.9677840761537666, 0.9719365506775638, 0.9543921536363567, 0.979690866818968, 0.9552136565232989, 0.955681096674587, 0.9570902411225785, 0.9674930303891465, 0.958076149404488, 0.9662451594694346, 0.9681672587705987, 0.9613570538999338, 0.9614961681907577, 0.9615689590058305, 0.9685408836893747, 0.9606768583215274, 0.9646580238873789, 0.9626494769879148, 0.9671532031544187, 0.965022592172458, 0.9733238829700553, 0.9643020084900936, 0.9595546557614656, 0.9755912341064431, 0.976543375828818, 0.9704808545738584, 0.9703641425601055, 0.9659044819507597, 0.9654269571919791, 0.9610356431193324, 0.9685132417187762, 0.9586389199771311, 0.9645815389444874, 0.9617812829852407, 0.9486970919976344, 0.9730565264067158, 0.9585875308002874, 0.9598052874248738, 0.9633949233970278, 0.9729734817920447, 0.9612860457363267, 0.9602650711336247, 0.9631015193099884, 0.9666368190930877, 0.9600547529551229, 0.9563200366753274, 0.9672358673339929, 0.9689201865368542, 0.967746227666591, 0.975115012209619, 0.964539599031035, 0.9609606589079551, 0.9652873764750198, 0.9565743740718406, 0.9596624226689521, 0.9550792414438671, 0.9595045469297052, 0.9763208690554233, 0.9656523476614274, 0.9803884244951092, 0.9636362801525497, 0.9633498006426001, 0.9585190989263076, 0.9611813309519671, 0.9664643418088453, 0.96723779855798, 0.9556233181991471, 0.9633766059785812, 0.9749513787600403, 0.9672060231845937, 0.9590441248144096, 0.9680705033923487, 0.9699514390801094, 0.9676361076191501, 0.9654924843401822, 0.9596627099082172, 0.9566961241291141, 0.9554006469177434, 0.959889912585539, 0.9561418846527835, 0.9682015540403026, 0.9706438962953348, 0.9497660649678988, 0.9678877885423188, 0.9666715127814878, 0.961799193955215, 0.9715518195474336, 0.9598790164883697, 0.9638903270952836, 0.9577966288652661, 0.9624123792029611, 0.9664252764239403, 0.9653070672876404, 0.9669789866175299, 0.9642391402667818, 0.962957920457071, 0.9714566913075028, 0.9554028767019115, 0.9642877458379528, 0.9648289473851499, 0.9651658460574419, 0.9774221087309067, 0.9672367050002897, 0.9667224744138759, 0.9671934527069364, 0.9523242386777656, 0.9608368324811848, 0.9469065008176613, 0.9637803367484091, 0.9570994907110745, 0.9707856780119783, 0.9561596639926218, 0.9567444541672315, 0.9566967234476211, 0.9497739809912427, 0.9589538417394131, 0.9679796470599497, 0.9586359930643663, 0.9612783302154522, 0.9486258034521284, 0.9582404970682696, 0.9554932170518063, 0.965797504683001, 0.9635789950107502, 0.9621654650366821, 0.967822756720101, 0.9592737175900342, 0.9600730713534256, 0.9696135114723904, 0.9699893150334143, 0.9684279759384081, 0.9676902294527272, 0.9612380237523029, 0.9668442892713974, 0.9695754477295595, 0.9601396929993945, 0.960521134593322, 0.9713455096525084, 0.9656466342314718, 0.9665673791988368, 0.9659839282639515, 0.9628367752985703, 0.9708683101918306, 0.9778683785244782, 0.9554625474577151, 0.9627937979499602, 0.9601713675045569, 0.9647821317636018, 0.9731733858469729, 0.9749159290714574, 0.9634911169427608, 0.9711310477187782, 0.9584821256784475, 0.965593983929151, 0.9577831131402794, 0.968141672845494, 0.9650405101709857]





lost_r_old =   [0.9580515766348305, 0.9747608835264678, 0.9690392264387427, 0.9673748137090085, 0.9631347996660501, 0.9544880881423876, 0.9553358837484024, 0.9647164601581008, 0.9605163249912212, 0.976791630831353, 0.9687767671162291, 0.9587368484093538, 0.9647518695378375, 0.9707206728430783, 0.9617602255096621, 0.963603982287206, 0.9603031415302363, 0.9699469503270337, 0.9526345885982311, 0.9611070457681389, 0.9630708115401595, 0.9615108748251162, 0.9695549489016265, 0.9603005835891765, 0.9735964022631781, 0.9595204166602459, 0.9657951080451124, 0.9701460301287002, 0.9734447379526089, 0.9533986739393878, 0.9624291061371929, 0.9633356990084094, 0.9647917503002416, 0.9715036815805184, 0.959371341406969, 0.9669004321850615, 0.9621294672797742, 0.9689572430582499, 0.9653432175462648, 0.9624951458905484, 0.9653602188295077, 0.9702868107711559, 0.9661242243131944, 0.9645374912404591, 0.9758657079428082, 0.9633735064772626, 0.9689904014091739, 0.9662934036934673, 0.9608386241574975, 0.9551675550194116, 0.9680806573777613, 0.9678033644331824, 0.9656597600475204, 0.961860757950783, 0.9671488152942893, 0.9569334285663104, 0.964589879858642, 0.9605962603152574, 0.9605771160929696, 0.952259137339851, 0.9608755210659922, 0.9631861914959865, 0.9592478688464009, 0.9662808668909998, 0.9705211514482484, 0.9547881639116653, 0.963744874196037, 0.961417589118465, 0.9475175306473225, 0.9588076891570475, 0.9618869806316463, 0.9529810313079865, 0.9777578194536443, 0.9718011350015043, 0.9490542209985549, 0.9699426119117294, 0.9629849785411034, 0.9720240198952524, 0.9562349669171674, 0.9699391558769925, 0.9634571869414146, 0.9655231231174229, 0.9656732969190794, 0.9654257011254787, 0.9586558564016481, 0.9589239051928234, 0.9702739383042378, 0.9756078585375046, 0.968627542980699, 0.9607133795713079, 0.9656503242031834, 0.9593112293093637, 0.9687304720651452, 0.9642936511281285, 0.9668250589703354, 0.9555729642019177, 0.9676557839484229, 0.9579826871384524, 0.9584744961838767, 0.9613921942200006, 0.9657804121073963, 0.9685386894529238, 0.9615544908493088, 0.9651466857874805, 0.9620308107136378, 0.9642400526683723, 0.9760972635504345, 0.9532845033552939, 0.9595852611558532, 0.9684593696789623, 0.9634139833068598, 0.9661742738469498, 0.9603373973644755, 0.9589089117933066, 0.9672630083558575, 0.9645756649459837, 0.9619106877615704, 0.9610827775703776, 0.9729918901807201, 0.9661185341161173, 0.967385143219668, 0.9689293968956452, 0.9626255794880416, 0.9716414731886029, 0.9563410774476264, 0.966395007364635, 0.9572180942949515, 0.9574991723465386, 0.9650815299093956, 0.958768252073955, 0.967905060057933, 0.9644083826076216, 0.9685456466887477, 0.9516130160892825, 0.9757294970039425, 0.9662354924226417, 0.9651618375402992, 0.9655374306174277, 0.9664337982882925, 0.9697251925080316, 0.9692936258510518, 0.9586216521948956, 0.9507310496304743, 0.9685846643317215, 0.9748323670588105, 0.9662870582817786, 0.9643579330868459, 0.9663060931440903, 0.9531169040005573, 0.9676267785545016, 0.9545138116663994, 0.9707360387248836, 0.9604362714289809, 0.9592754840852555, 0.9655027812068695, 0.9734914933037964, 0.9697608697246398, 0.9683873449008786, 0.9610126735966988, 0.9709747238010438, 0.9628712352168025, 0.956366924331321, 0.957978674069165, 0.9647837110362505, 0.9584070037981933, 0.9717743538063806, 0.9689709515657282, 0.9645743415797053, 0.9539187640615022, 0.9678521690504319, 0.9623170327842309, 0.9676154343571888, 0.9624012165322348, 0.9560732748946662, 0.9638467299596367, 0.9599386515379021, 0.962343954591179, 0.9721001012543039, 0.9686954434895613, 0.9554518090205267, 0.965174179172578, 0.9738480888985888, 0.9636804243550118, 0.970881877375997, 0.9655286403331969, 0.9531198670702093, 0.9642952894389446, 0.9593666276585702, 0.9666858097769591, 0.9690907982053103, 0.9706270672298865, 0.9676139659586914, 0.9648660666930097, 0.9687260894660099, 0.9714721979290459, 0.9614993397263084, 0.9560632075379765, 0.9494050885172567, 0.964418859859236, 0.9606175666604326, 0.9646713331301944, 0.9567496153104135, 0.9613637530622549, 0.966329824814684, 0.9598870056115915, 0.9670485509062349, 0.9619997523620926, 0.9628807450440718, 0.974232527639723, 0.9726447643087469, 0.9574851218743311, 0.9622187494299032, 0.9625888934588129, 0.9700586474215928, 0.9666170961204289, 0.9550463805584427, 0.9736344049897493, 0.9545659213100359, 0.958086658192746, 0.9619376897194042, 0.9653097676595691, 0.9531180651868814, 0.9652447615516021, 0.9625373889531187, 0.9647750319976567, 0.9676380174179926, 0.9711295651216727, 0.9505409391988181, 0.9566143286665897, 0.9715120585055305, 0.964856405819361, 0.9667368236673424, 0.9674772926996014, 0.9682970382441503, 0.9690988109614727, 0.962379018333107, 0.958598843999302, 0.964938296685491, 0.9641201377205318, 0.9732373280800858, 0.9581376683965408, 0.9553862688120711, 0.966063754666362, 0.962206654422947, 0.9607277537027294, 0.96492336880141, 0.9513502711142924, 0.963475521429302, 0.9665707559511078, 0.955110090595176, 0.9560778118421505, 0.960701271061354, 0.9622925344485195, 0.9676318556479873, 0.9611257019590673, 0.9596677633770772, 0.9596279184427841, 0.9640219258160674, 0.9721457326409597, 0.9689144178875272, 0.9622229670075858, 0.9573752628987968, 0.9585773528782756, 0.9732688548889169, 0.9608915273867502, 0.9629560001292666, 0.9688183456073335, 0.9617051725986553, 0.958436850023663, 0.9717148227876502, 0.9684853686388857, 0.9723773008511059, 0.9580402436050087, 0.9501097670160569, 0.9697153588055707, 0.967458128996464, 0.9556927223349209, 0.9636750818378214, 0.9717104435321093, 0.964856249556161, 0.9581072565146296, 0.96771949527079, 0.9615538856729136, 0.9653393874559906, 0.9653744573230455, 0.958963824707425, 0.9669901289967051, 0.9605981223622283, 0.9601578747109764, 0.9661931268422989, 0.9572180803108923, 0.9630737518253416, 0.9709891272245, 0.9657598654824331, 0.9573129112259611, 0.9673292459125836, 0.9530462045794479, 0.9683718869690762, 0.964063356415534, 0.9646108368701073, 0.9641816150138828, 0.9639686698583247, 0.9566591992814156, 0.9688598818663794, 0.9714538419566939, 0.9634009985615114, 0.960443728457403, 0.9629736079256934, 0.9725889804523133, 0.9627627357254854, 0.9694401539403887, 0.9635172156752864, 0.9541455342374487, 0.9618673764395952, 0.9607675343671602, 0.9690753882558961, 0.9673633753748807, 0.9617832438519038, 0.9729628213524116, 0.9675305906293417, 0.9682664224549482, 0.9644317813237543, 0.973453877830508, 0.9584371707781035, 0.9744229872685672, 0.965833349328494, 0.9694834532452085, 0.9759638966932257, 0.9656065108058154, 0.9541358760968323, 0.9607950493343813, 0.9686403516802145, 0.9600517270654255, 0.966089613878813, 0.9640984610629442, 0.9682391029802876, 0.9676331997540766, 0.9700386294034613, 0.9593098377349741, 0.9658130190012773, 0.9725009101878274, 0.9563584380453558, 0.9608128172532512, 0.9677240008585297, 0.9554529780839971, 0.9647428590645464, 0.9599803206952322, 0.9581914343887293, 0.9647356693595022, 0.9584262841377578, 0.9682255304056165, 0.9563501974478172, 0.9579584862936181, 0.9599293215043697, 0.9669073603426803]



font = {'family' : 'sans-serif',
        'size'   : 16}
matplotlib.rc('font', **font)



for i in range(355):
   x.append(i+1)


for i in range(358):
    y.append(i+1)
# Profit

## Old_code
margin_error1 =[]
lost_r_old_2 =[]




#plt.bar(range(len(lost_r_old)), lost_r_old)


plt.errorbar(x,lost_r_old,fmt="-", color="blue",ecolor="lightgray",capsize=2, label= "Old")
plt.errorbar(y,lost_r,fmt="-", color="red",ecolor="lightgray",capsize=2,label= "New")



#plt.axvline(x=12, color = "silver", linestyle='--')
#plt.errorbar(x,acceptance_ratio, fmt="-",label="SARA",ecolor="lightgray",capsize=2)
#plt.errorbar(x,profit_reability,fmt="-",label="NR", color="red", ecolor="lightgray",capsize=2)
#plt.errorbar(x,lost_r,fmt="-",label="AAR", color="gray",ecolor="lightgray",capsize=2)

#plt.errorbar(x,profit_r2c,fmt="-",label="AAR", color="blue",ecolor="lightgray",capsize=2)
plt.xlabel('Episodes')
plt.ylabel('Reward')
plt.title(' Reward vs Episodes')
#plt.legend()
plt.legend(fontsize = 14,loc='lower right', fancybox=True, shadow=True)
# plt.legend(loc='upper center', bbox_to_anchor=(0.5, 0.1), fancybox=True, shadow=True, ncol=3)
#plt.show() 
plt.savefig("Big_profit_r2C.png",bbox_inches = 'tight') 
plt.close()




